<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta charset="utf-8" />
<title>手計算</title>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
    }
});
</script>
<script type="text/javascript" src="js/util.js?ver=1" ></script>
<script type="text/javascript" src="js/main.js?ver=1" ></script>
<script type="text/javascript" src="js/speech.js?ver=1" ></script>
<script type="text/javascript">

function bodyOnload(){
    console.log("body load");

    let ui = {};

    ui.caption  = document.getElementById("caption");
    ui.board    = document.getElementById("div-math");
    ui.textArea = document.getElementById("txt-math");
    ui.summary  = document.getElementById("spn-summary");
    ui.timeline = document.getElementById("rng-timeline");
    ui.selColors = [
        document.getElementById("color-0"),
        document.getElementById("color-1"),
        document.getElementById("color-2")
    ];
    ui.edit = true;

    tekesan.initTekesan(ui);
}

function getData(){
    let path  = document.getElementById("txt-path").value.trim();
    tekesan.openDoc(path);
}

function putData(){
    let path  = document.getElementById("txt-path").value.trim();
    let title = document.getElementById("txt-title").value.trim();
    tekesan.backup(path, title);
}
</script>

<style type="text/css">
html {
    width: 100%;
    height: 100%;
}

body {
    width: 100%;
    height: 100%;
    margin: 0;
}      

li {
    margin-top: 10px;
    margin-bottom: 10px;
}


input[type=radio] {
    display: none; /* ラジオボタンを非表示にする */
}
input[type="radio"]:not(:checked) + label  {
    border-style: solid;
    border-width: 2px;
}
input[type="radio"]:checked + label {
    border-style: ridge;
    border-width: 2px;
}
</style>
</head>

<body onload="bodyOnload()">
<button onclick="getData()">開く</button>

<button onclick="tekesan.deleteAction()">削除</button>
<button onclick="putData()">保存</button>
<input type="radio" name="sel-color" value="magenta" id="color-0" checked /><label for="color-0" style="background-color: magenta; color: transparent;" >□</label>
<input type="radio" name="sel-color" value="blue"    id="color-1"  /><label for="color-1" style="background-color: blue; color: transparent; " >□</label>
<input type="radio" name="sel-color" value="limegreen"   id="color-2" /><label for="color-2" style="background-color: limegreen; color: transparent;" >□</label>
<br/>
path:<input id="txt-path" type="text" size="20" value="gauss-int" />
タイトル<input id="txt-title" type="text" size="20" />
<br/>

<spa id="caption"></spa>
<br/>

<div id="div-math" style="height: 65%; overflow: scroll; border-style:inset; border-width: 3px;" ></div>

<button onclick="tekesan.addEmptyAction()" style="font-family: Segoe UI Emoji;">➕</button>
<button onclick="tekesan.updateTimePos(-1)" style="font-family: Segoe UI Emoji;" >⏮</button>
<button onclick="tekesan.playActions()" style="font-family: Segoe UI Emoji;" >▶️</button>
<span id="spn-summary" style="width: 4ex;" >要約</span>
<br/>
<input id="rng-timeline" type="range" min="-1" max="-1" value="-1" step="1" style="width: 100%; " />

<textarea id="txt-math" style="width: 100%; height: 15%; overflow-x: visible; white-space: pre; font-size: large; font-weight: bold; background-color: cornsilk;" spellcheck="false" ></textarea>


<!-- <div style="display: grid; grid-template-rows:60px 1fr 20px 150px; grid-template-columns:100px 1fr; width: 100%; height: 100%;">
    <div style="grid-row: 1; grid-column: 1/span 2; background-color: cornsilk; ">
    </div>
    <div id="div-math" style="grid-row: 2; grid-column: 1/span 2; overflow: scroll; border-style:inset; border-width: 3px;" ></div>
    <div style="grid-row: 3; grid-column: 1; background-color: cornsilk; " >
        <button onclick="tekesan.addEmptyAction()" style="width: 4ex;">➕</button>
        <button onclick="tekesan.playActions()" style="width: 4ex;" >▶️</button>
        <span id="spn-summary" style="width: 4ex;" >要約</span>
    </div>
    <input id="rng-timeline" type="range" min="-1" max="-1" value="-1" step="1" style="grid-row: 3; grid-column: 2;" />
    <textarea id="txt-math" style="grid-row: 4; grid-column: 1/span 2; overflow-x: visible; white-space: pre; font-size: large; font-weight: bold; background-color: cornsilk;" spellcheck="false" ></textarea>
</div> -->
</body>
</html>