<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta charset="utf-8" />
<title>手計算</title>

<script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
            renderActions: {
                addMenu: [0, '', '']
            }
        },
        chtml: {
            scale: 1.0
        }    
    };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script type="text/javascript" src="js/util.js?ver=1" ></script>
<script type="text/javascript" src="js/jax.js?ver=1" ></script>
<script type="text/javascript" src="js/main.js?ver=1" ></script>
<script type="text/javascript" src="js/edit.js?ver=1" ></script>
<script type="text/javascript" src="js/speech.js?ver=1" ></script>
<script type="text/javascript">
let ui;

function bodyOnload(){
    console.log("body load");

    let div = document.getElementById("bansho");
    let txtTitle = document.getElementById("txt-title");
    let selColors = [
        document.getElementById("color-0"),
        document.getElementById("color-1"),
        document.getElementById("color-2")
    ];
    let summary  = document.getElementById("spn-summary");
    let textArea = document.getElementById("txt-math");

    ui = bansho.initEdit(div, txtTitle, selColors, summary, textArea);
}

function getData(){
    let path  = document.getElementById("txt-path").value.trim();
    ui.openDoc(path);
}

function putData(){
    let path  = document.getElementById("txt-path").value.trim();
    ui.backup(path);
}
</script>

<style type="text/css">
html {
    width: 100%;
    height: 100%;
}

body {
    width: 100%;
    height: 100%;
    margin: 0;
}      

li {
    margin-top: 10px;
    margin-bottom: 10px;
}


input[type=radio] {
    display: none; /* ラジオボタンを非表示にする */
}
input[type="radio"]:not(:checked) + label  {
    border-style: solid;
    border-width: 2px;
}
input[type="radio"]:checked + label {
    border-style: ridge;
    border-width: 2px;
}
</style>
</head>

<body onload="bodyOnload()">
<div id="bansho" style="width: 100%; height: 70%;"></div>
<button onclick="ui.addEmptyAction()" style="font-family: Segoe UI Emoji;">➕</button>
<button onclick="ui.updateTimePos(-1)" style="font-family: Segoe UI Emoji;" >⏮</button>
<button onclick="getData()">開く</button>
<button onclick="ui.deleteAction()">削除</button>
<button onclick="putData()">保存</button>
<input type="radio" name="sel-color" value="magenta" id="color-0" checked /><label for="color-0" style="background-color: magenta; color: transparent;" >□</label>
<input type="radio" name="sel-color" value="blue"    id="color-1"  /><label for="color-1" style="background-color: blue; color: transparent; " >□</label>
<input type="radio" name="sel-color" value="limegreen"   id="color-2" /><label for="color-2" style="background-color: limegreen; color: transparent;" >□</label>
<span id="spn-summary" style="width: 4ex;" >要約</span>
<label for="line-feed" style="display: none;">
    <input type="checkbox" id="line-feed" />改行
</label>
<br/>
path <input id="txt-path" type="text" size="20" value="gauss-int" />
title<input id="txt-title" type="text" size="20" />
x = -b \pm \frac{\sqrt{b^2-4ac}}{2a}
<textarea id="txt-math" style="width: 100%; height: 20%; overflow-x: visible; white-space: pre; font-size: large; font-weight: bold; background-color: cornsilk;" spellcheck="false" ></textarea>


</body>
</html>